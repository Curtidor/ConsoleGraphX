#include "main_scene.h"


MainScene::MainScene(std::string name) 
	: Scene(name)
{
	SceneSystem::RegisterScene(this);
	SceneSystem::LoadScene(this->GetSceneName());
}

void MainScene::Initialize()
{
	Entity* grass = new Entity("Grass");
	grass->GetComponent<Transform>()->SetPosition(0, 90);
	grass->AddComponent<Sprite>(Screen::GetWidth_A(), 10, Green);
	
	Entity* sky = new Entity("sky");
	sky->GetComponent<Transform>()->SetPosition(0, 0);
	sky->AddComponent<Sprite>(Screen::GetWidth_A(), 90, Blue);

	Entity* player = new Entity("Player");
	player->AddComponent<Player>(player);
	
	// console graph-x pixels
	CHAR_INFO* consoleGraphXPixels = new CHAR_INFO[595]{ {Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{Screen::s_transparentPixel, 0},{L'█', 15},{L'█', 15},{Screen::s_transparentPixel, 0} };

	Entity* tE = new Entity();
	tE->AddComponent<Sprite>(119, 5, consoleGraphXPixels);
	tE->GetComponent<Transform>()->SetPosition(Screen::GetWidth_A() / 2 - (119 / 2), 10);

	Entity* tE2 = new Entity();
	Sprite* spritetE2 = (Sprite*)tE2->AddComponent<Sprite>(119, 5, consoleGraphXPixels);
	spritetE2->m_layer = 1;
	tE2->GetComponent<Transform>()->SetPosition(10, 77);

	//this->RegisterEntity(grass);
	this->RegisterEntity(sky);
	this->RegisterEntity(player);
	this->RegisterEntity(tE);
	this->RegisterEntity(tE2);
}
